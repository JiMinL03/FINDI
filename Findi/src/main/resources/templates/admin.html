<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>관리자 - 회원 이미지 확인</title>
    <link rel="stylesheet" th:href="@{/css/admin.css}" />
</head>
<body>

<h1>회원 이미지 확인</h1>

<div th:each="member : ${members}" class="member-card">
    <p><strong>회원 ID:</strong> <span th:text="${member.id}"></span></p>
    <p><strong>이름:</strong> <span th:text="${member.username}"></span></p>
    <p><strong>직업:</strong> <span th:text="${member.job}"></span></p>

    <button class="view-btn" onclick="toggleImage(this)">이미지 확인</button>

    <img th:src="|data:image/png;base64,${member.base64Img}|"
         alt="회원 이미지 미리보기"
         class="preview-img"
         style="display:none; max-width: 200px; margin-top: 10px;" />

    <form class="action-buttons" th:action="@{/admin/accept}" method="post">
        <input type="hidden" name="id" th:value="${member.id}" />
        <button class="accept-btn">수락</button>
    </form>
    <form class="action-buttons" th:action="@{/admin/reject}" method="post">
        <input type="hidden" name="id" th:value="${member.id}" />
        <button class="reject-btn">거절</button>
    </form>
</div>


<script>
    function toggleImage(button) {
        const img = button.nextElementSibling;
        if (img.style.display === 'none' || img.style.display === '') {
            img.style.display = 'block';
            button.textContent = '이미지 닫기';
        } else {
            img.style.display = 'none';
            button.textContent = '이미지 확인';
        }
    }
</script>

</body>
</html>
